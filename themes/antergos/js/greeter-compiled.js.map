{"version":3,"sources":["greeter.js"],"names":[],"mappings":"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","file":"greeter-compiled.js","sourcesContent":["/*\n *\n * Copyright Â© 2015-2016 Antergos\n *\n * greeter.js\n *\n * This file is part of lightdm-webkit-theme-antergos\n *\n * lightdm-webkit-theme-antergos is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License,\n * or any later version.\n *\n * lightdm-webkit-theme-antergos is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * The following additional terms are in effect as per Section 7 of this license:\n *\n * The preservation of all legal notices and author attributions in\n * the material or in the Appropriate Legal Notices displayed\n * by works containing it is required.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n/**\n * This is used to access our classes from within jQuery callbacks.\n */\nlet _self = null;\nlet _bg_self = null;\n\n\n/**\n * Capitalize a string.\n *\n * @returns {string}\n */\nString.prototype.capitalize = function() {\n\treturn this.charAt( 0 ).toUpperCase() + this.slice( 1 );\n};\n\n\n\n\n\n\n/**\n * This is the base class for the theme's components.\n */\nclass GreeterThemeComponent {\n\n\tconstructor() {\n\t\tthis.debug = this.cache_get( 'debug', 'enabled' );\n\t\tthis.lang = window.navigator.language.split( '-' )[ 0 ].toLowerCase();\n\t\tthis.translations = window.ant_translations;\n\n\t\tif ( 'undefined' === typeof window.navigator.languages ) {\n\t\t\twindow.navigator.languages = [ window.navigator.language ];\n\t\t}\n\n\t\tthis.init_config_values();\n\t}\n\n\n\t/**\n\t * Add text to the debug log element (accessible from the login screen).\n\t *\n\t * @param {string} text - To be added to the log.\n\t */\n\tlog( text ) {\n\t\tif ( 'true' === this.debug ) {\n\t\t\tconsole.log( text );\n\t\t}\n\t\t$( '#logArea' ).append( `${text}<br/>` );\n\t}\n\n\n\t/**\n\t * Get a key's value from localStorage. Keys can have two or more parts.\n\t * For example: \"ant:user:john:session\".\n\t *\n\t * @param {...string} key_parts - Strings that are combined to form the key.\n\t */\n\tcache_get( ...key_parts ) {\n\t\tvar key = `ant`;\n\n\t\tfor ( var part of key_parts ) {\n\t\t\tkey += `:${part}`;\n\t\t}\n\t\treturn localStorage.getItem( key );\n\t}\n\n\n\t/**\n\t * Set a key's value in localStorage. Keys can have two or more parts.\n\t * For example: \"ant:user:john:session\".\n\t *\n\t * @param {string} value - The value to set.\n\t * @param {...string} key_parts - Strings that are combined to form the key.\n\t */\n\tcache_set( value, ...key_parts ) {\n\t\tvar key = `ant`;\n\n\t\tfor ( var part of key_parts ) {\n\t\t\tkey += `:${part}`;\n\t\t}\n\t\treturn localStorage.setItem( key, value );\n\t}\n\n\n\t/**\n\t * Get some values from `lightdm-webkit2-greeter.conf` and save them for later.\n\t */\n\tinit_config_values() {\n\t\tlet logo = '', background_images = [], background_images_dir = '';\n\n\t\tif ( 'undefined' !== typeof config ) {\n\t\t\tif ( this instanceof AntergosTheme ) {\n\t\t\t\tlogo = config.get_str( 'branding', 'logo' ) || '';\n\n\t\t\t} else if ( this instanceof AntergosBackgroundManager ) {\n\t\t\t\tbackground_images_dir = config.get_str( 'branding', 'background_images' ) || '';\n\t\t\t\tif (background_images_dir) {\n\t\t\t\t\tbackground_images = greeterutil.dirlist(background_images_dir) || [];\n\t\t\t\t}\n\n\t\t\t\tif (background_images.length) {\n\t\t\t\t\tlet images = [];\n\t\t\t\t\tfor (file of background_images) {\n\t\t\t\t\t\tif (file.match(/(png|PNG)|(jpg|JPEG)|(bmp|BMP)/)) {\n\t\t\t\t\t\t\timages.push(file);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbackground_images = images;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.logo = logo;\n\t\tthis.background_images = background_images;\n\t\tthis.background_images_dir = background_images_dir;\n\t}\n}\n\n\n\n\n\n\n/**\n * This class handles the theme's background switcher.\n */\nclass AntergosBackgroundManager extends GreeterThemeComponent {\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tif ( null === _bg_self ) {\n\t\t\t_bg_self = this;\n\t\t}\n\n\t\tthis.current_background = this.cache_get( 'background_config', 'current_background' );\n\n\t\tif ( ! this.background_images_dir.length || ! this.background_images.length ) {\n\t\t\tthis.log('AntergosBackgroundManager: [ERROR] No background images detected.');\n\n\t\t\t$( '.header' ).fadeTo( 300, 0.5, function() {\n\t\t\t\t$( '.header' ).css( \"background\", '#000000' );\n\t\t\t} ).fadeTo( 300, 1 );\n\n\t\t} else {\n\t\t\tthis.initialize();\n\t\t}\n\n\t\treturn _bg_self;\n\t}\n\n\n\tinitialize() {\n\t\tif ( ! this.current_background ) {\n\t\t\t// For backwards compatibility\n\t\t\tif ( null !== localStorage.getItem( 'bgsaved' ) && '0' === localStorage.getItem( 'bgrandom' ) ) {\n\t\t\t\tthis.current_background = localStorage.getItem( 'bgsaved' );\n\t\t\t\tthis.cache_set( this.current_background, 'background_manager', 'current_background' );\n\t\t\t\tlocalStorage.removeItem( 'bgrandom' );\n\t\t\t\tlocalStorage.removeItem( 'bgsaved' );\n\t\t\t} else if ( '0' === localStorage.getItem( 'bgrandom' ) ) {\n\t\t\t\tthis.current_background = this.get_random_image();\n\t\t\t\tthis.cache_set( 'true', 'background_manager', 'random_background' );\n\t\t\t\tlocalStorage.removeItem( 'bgrandom' );\n\t\t\t}\n\t\t}\n\n\t\tif ( ! this.current_background ) {\n\t\t\t// For current and future versions\n\t\t\tlet current_background = this.cache_get('background_manager', 'current_background' ),\n\t\t\t\trandom_background = this.cache_get('background_manager', 'random_background' );\n\n\t\t\tif ( 'true' === random_background || ! current_background ) {\n\t\t\t\tcurrent_background = this.get_random_image();\n\t\t\t}\n\t\t\tthis.current_background = current_background;\n\t\t}\n\n\t\t$( '.header' ).fadeTo( 300, 0.5, function() {\n\t\t\t$( '.header' ).css( \"background\", this.current_background );\n\t\t} ).fadeTo( 300, 1 );\n\t}\n\n\n\tget_random_image() {\n\t\tlet random_bg;\n\n\t\trandom_bg = Math.floor( Math.random() * this.background_images.length );\n\n\t\treturn this.background_images[ random_bg ];\n\t}\n\n\tsetup_background_thumbnails() {\n\t\tif (this.background_images.length) {\n\t\t\tfor ( image_file of this.background_images) {\n\t\t\t\tlet $link = $('<a href=\"#\"><img>'),\n\t\t\t\t\t$img_el = $link.children('img');\n\n\t\t\t\t$link.addClass('bg clearfix').attr('data-img', image_file);\n\t\t\t\t$img_el.attr('src', image_file);\n\n\t\t\t\t$link.appendTo($('.bgs'));\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n\n\n\n\n/**\n * This is the theme's main class object. It contains almost all the theme's logic.\n */\nclass AntergosTheme extends GreeterThemeComponent {\n\n\tconstructor() {\n\t\tsuper();\n\t\tif ( null === _self ) {\n\t\t\t_self = this;\n\t\t}\n\t\tthis.user_list_visible = false;\n\t\tthis.auth_pending = false;\n\t\tthis.selected_user = null;\n\t\tthis.$user_list = $( '#user-list2' );\n\t\tthis.$session_list = $( '#sessions' );\n\t\tthis.$clock_container = $( '#collapseOne' );\n\t\tthis.$clock = $( \"#current_time\" );\n\t\tthis.$actions_container = $( \"#actionsArea\" );\n\t\tthis.$msg_area_container = $( '#statusArea' );\n\t\tthis.$msg_area = $( '#showMsg' );\n\t\tthis.background_manager = new AntergosBackgroundManager();\n\n\t\tthis.initialize();\n\n\t\treturn _self;\n\t}\n\n\tinitialize() {\n\t\tthis.prepare_translations();\n\t\tthis.do_static_translations();\n\t\tthis.initialize_clock();\n\t\tthis.prepare_login_panel_header();\n\t\tthis.prepare_user_list();\n\t\tthis.prepare_session_list();\n\t\tthis.prepare_system_action_buttons();\n\t\t$( \"#login\" ).addClass( \"in\" );\n\t\tthis.register_callbacks();\n\t\tthis.background_manager.setup_background_thumbnails();\n\t}\n\n\n\t/**\n\t * Register callbacks for the LDM Greeter as well as any others that haven't been registered\n\t * elsewhere.\n\t */\n\tregister_callbacks() {\n\t\tvar events = 'shown.bs.collapse, hidden.bs.collapse';\n\n\t\tthis.$user_list.parents( '.collapse' ).on( events, this.user_list_collapse_handler );\n\t\t$( document ).keydown( this.key_press_handler );\n\t\t$( '.cancel_auth' ).click( this.cancel_authentication );\n\t\t$( '.submit_passwd' ).click( this.submit_password );\n\n\t\twindow.show_prompt = this.show_prompt;\n\t\twindow.show_message = this.show_message;\n\t\twindow.start_authentication = this.start_authentication;\n\t\twindow.cancel_authentication = this.cancel_authentication;\n\t\twindow.authentication_complete = this.authentication_complete;\n\t\twindow.autologin_timer_expired = this.cancel_authentication;\n\t}\n\n\t/**\n\t * Initialize the user list.\n\t */\n\tprepare_user_list() {\n\t\tvar tux = 'img/antergos-logo-user.png',\n\t\t\ttemplate;\n\n\t\t// Loop through the array of LightDMUser objects to create our user list.\n\t\tfor ( var user of lightdm.users ) {\n\t\t\tvar last_session = this.cache_get( 'user', user.name, 'session' ),\n\t\t\t\timage_src = user.image.length ? user.image : tux;\n\n\t\t\tif ( null === last_session ) {\n\t\t\t\t// For backwards compatibility\n\t\t\t\tlast_session = localStorage.getItem( user.name );\n\t\t\t\tif ( null === last_session ) {\n\t\t\t\t\t// This user has never logged in before let's enable the system's default\n\t\t\t\t\t// session.\n\t\t\t\t\tlast_session = lightdm.default_session;\n\t\t\t\t}\n\t\t\t\tthis.cache_set( last_session, 'user', user.name, 'session' );\n\t\t\t}\n\n\t\t\tthis.log( `Last session for ${user.name} was: ${last_session}` );\n\n\t\t\ttemplate = `\n\t\t\t\t<a href=\"#\" id=\"${user.name}\" class=\"list-group-item ${user.name}\" data-session=\"${last_session}\">\n\t\t\t\t\t<img src=\"${image_src}\" class=\"img-circle\" alt=\"${user.display_name}\" />\n\t\t\t\t\t<span>${user.display_name}</span>\n\t\t\t\t\t<span class=\"badge\"><i class=\"fa fa-check\"></i></span>\n\t\t\t\t</a>`;\n\n\t\t\t// Register event handler here so we don't have to iterate over the users again later.\n\t\t\t$( template ).appendTo( this.$user_list ).click( this.start_authentication );\n\n\t\t} // END for ( var user of lightdm.users )\n\n\t\tif ( $( this.$user_list ).children().length > 3 ) {\n\t\t\t// Make the user list two columns instead of one.\n\t\t\t$( this.$user_list ).css( 'column-count', '2' ).parent().css( 'max-width', '85%' );\n\t\t}\n\n\t}\n\n\t/**\n\t * Initialize the session selection dropdown.\n\t */\n\tprepare_session_list() {\n\t\t// Loop through the array of LightDMSession objects to create our session list.\n\t\tfor ( var session of lightdm.sessions ) {\n\t\t\tvar css_class = session.name.replace( / /g, '' ),\n\t\t\t\ttemplate;\n\n\t\t\tthis.log( `Adding ${session.name} to the session list...` );\n\n\t\t\ttemplate = `\n\t\t\t\t<li>\n\t\t\t\t\t<a href=\"#\" data-session-id=\"${session.key}\" class=\"${css_class}\">${session.name}</a>\n\t\t\t\t</li>`;\n\n\t\t\t$( template ).appendTo( this.$session_list ).click( this.session_toggle_handler );\n\n\t\t} // END for (var session of lightdm.sessions)\n\n\t\t$( '.dropdown-toggle' ).dropdown();\n\t}\n\n\t/**\n\t * Initialize the system action buttons\n\t */\n\tprepare_system_action_buttons() {\n\t\tvar actions = {\n\t\t\t\tshutdown: \"power-off\",\n\t\t\t\thibernate: \"asterisk\",\n\t\t\t\tsuspend: \"arrow-down\",\n\t\t\t\trestart: \"refresh\"\n\t\t\t},\n\t\t\ttemplate;\n\n\t\tfor ( var action of Object.keys( actions ) ) {\n\t\t\tvar cmd = `can_${action}`;\n\n\t\t\ttemplate = `\n\t\t\t\t<a href=\"#\" id=\"${action}\" class=\"btn btn-default ${action}\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"${action.capitalize()}\" data-container=\"body\">\n\t\t\t\t\t<i class=\"fa fa-${actions[ action ]}\"></i>\n\t\t\t\t</a>`;\n\n\t\t\tif ( lightdm[ cmd ] ) {\n\t\t\t\t$( template ).appendTo( $( this.$actions_container ) ).click( this.system_action_handler );\n\t\t\t}\n\t\t} // END for (var [action, icon] of actions)\n\n\t\t$( '[data-toggle=tooltip]' ).tooltip();\n\t\t$('.modal').modal({show: false});\n\t}\n\n\tinitialize_clock() {\n\t\tvar saved_format = this.cache_get( 'clock', 'time_format' ),\n\t\t\tformat = (null !== saved_format) ? saved_format : 'LT';\n\n\t\tmoment.locale( window.navigator.languages );\n\t\tthis.$clock.html( moment().format( format ) );\n\n\t\tsetInterval( () => {\n\t\t\tthis.$clock.html( moment().format( format ) );\n\t\t}, 60000 );\n\t}\n\n\n\t/**\n\t * Show the user list if its not already shown. This is used to allow the user to\n\t * display the user list by pressing Enter or Spacebar.\n\t */\n\tshow_user_list() {\n\t\tif ( $( this.$clock_container ).hasClass( 'in' ) ) {\n\t\t\t$( '#trigger' ).trigger( 'click' );\n\t\t}\n\t\tif ( $( this.$user_list ).length <= 1 ) {\n\t\t\t$( this.$user_list ).find( 'a' ).trigger( 'click', this );\n\t\t}\n\t}\n\n\n\tprepare_login_panel_header() {\n\t\tvar greeting = (this.translations.greeting) ? this.translations.greeting : 'Welcome!',\n\t\t\tlogo = ( '' !== this.logo ) ? this.logo : 'img/antergos.png';\n\n\t\t$( '.welcome' ).text( greeting );\n\t\t$( '#hostname' ).append( lightdm.hostname );\n\t\t$('[data-greeter-config=\"logo\"]').attr('src', logo);\n\t}\n\n\n\tprepare_translations() {\n\t\tif ( ! this.translations.hasOwnProperty( this.lang ) ) {\n\t\t\tfor ( var lang of window.navigator.languages ) {\n\t\t\t\tif ( this.translations.hasOwnProperty( lang ) ) {\n\t\t\t\t\tthis.lang = lang;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif ( ! this.translations.hasOwnProperty( this.lang ) ) {\n\t\t\tthis.lang = 'en';\n\t\t}\n\n\t\tthis.translations = this.translations[ this.lang ];\n\t}\n\n\n\t/**\n\t * Replace '${i18n}' with translated string for all elements that\n\t * have the data-i18n attribute. This is for elements that are not generated\n\t * dynamically (they can be found in index.html).\n\t */\n\tdo_static_translations() {\n\t\t$( '[data-i18n]' ).each( function() {\n\t\t\tvar key = $( this ).attr( 'data-i18n' ),\n\t\t\t\thtml = $( this ).html(),\n\t\t\t\ttranslated = _self.translations[ key ],\n\t\t\t\tnew_html = html.replace( '${i18n}', translated );\n\n\t\t\t$( this ).html( new_html );\n\t\t} );\n\t}\n\n\n\t/**\n\t * Start the authentication process for the selected user.\n\t *\n\t * @param {object} event - jQuery.Event object from 'click' event.\n\t */\n\tstart_authentication( event ) {\n\t\tvar user_id = $( this ).attr( 'id' ),\n\t\t\tselector = `.${user_id}`,\n\t\t\tuser_session = _self.cache_get( 'user', user_id, 'session' );\n\n\t\tif ( _self.auth_pending || null !== _self.selected_user ) {\n\t\t\tlightdm.cancel_authentication();\n\t\t\t_self.log( `Authentication cancelled for ${_self.selected_user}` );\n\t\t\t_self.selected_user = null;\n\t\t}\n\n\t\t_self.log( `Starting authentication for ${user_id}.` );\n\t\t_self.selected_user = user_id;\n\n\t\t// CSS hack to workaround webkit bug\n\t\tif ( $( _self.$user_list ).children().length > 3 ) {\n\t\t\t$( _self.$user_list ).css( 'column-count', 'initial' ).parent().css( 'max-width', '50%' );\n\t\t}\n\t\t$( selector ).addClass( 'hovered' ).siblings().hide();\n\t\t$( '.fa-toggle-down' ).hide();\n\n\t\t_self.log( `Session for ${user_id} is ${user_session}` );\n\n\t\t$( `[data-session-id=\"${user_session}\"]` ).parent().trigger( 'click', this );\n\n\t\t$( '#session-list' ).removeClass( 'hidden' ).show();\n\t\t$( '#passwordArea' ).show();\n\t\t$( '.dropdown-toggle' ).dropdown();\n\n\t\t_self.auth_pending = true;\n\n\t\tlightdm.authenticate( user_id );\n\t}\n\n\n\t/**\n\t * Cancel the pending authentication.\n\t *\n\t * @param {object} event - jQuery.Event object from 'click' event.\n\t */\n\tcancel_authentication( event ) {\n\t\tvar selectors = [ '#statusArea', '#timerArea', '#passwordArea', '#session-list' ];\n\n\t\tfor ( var selector of selectors ) {\n\t\t\t$( selector ).hide();\n\t\t}\n\n\t\tlightdm.cancel_authentication();\n\n\t\t_self.log( 'Cancelled authentication.' );\n\n\t\t// CSS hack to work-around webkit bug\n\t\tif ( $( _self.$user_list ).children().length > 3 ) {\n\t\t\t$( _self.$user_list ).css( 'column-count', '2' ).parent().css( 'max-width', '85%' );\n\t\t}\n\n\t\t$( '.hovered' ).removeClass( 'hovered' ).siblings().show();\n\t\t$( '.fa-toggle-down' ).show();\n\n\t\t_self.selected_user = null;\n\t\t_self.auth_pending = false;\n\n\t}\n\n\n\t/**\n\t * Called when the user attempts to authenticate (inputs password).\n\t * We check to see if the user successfully authenticated and if so tell the LDM\n\t * Greeter to log them in with the session they selected.\n\t */\n\tauthentication_complete() {\n\t\tvar selected_session = $( '.selected' ).attr( 'data-session-id' ),\n\t\t\terr_msg = _self.translations.auth_failed[ _self.lang ];\n\n\t\t_self.auth_pending = false;\n\t\t_self.cache_set( selected_session, 'user', lightdm.authentication_user, 'session' );\n\n\t\t$( '#timerArea' ).hide();\n\n\t\tif ( lightdm.is_authenticated ) {\n\t\t\t// The user entered the correct password. Let's log them in.\n\t\t\t$('body').fadeOut(1000);\n\t\t\tlightdm.login( lightdm.authentication_user, selected_session );\n\t\t} else {\n\t\t\t// The user did not enter the correct password. Show error message.\n\t\t\t$( '#statusArea' ).show();\n\t\t}\n\t}\n\n\tsubmit_password( event ) {\n\t\tlightdm.respond( $( '#passwordField' ).val() );\n\t\t$( '#passwordArea' ).hide();\n\t\t$( '#timerArea' ).show();\n\t}\n\n\tsession_toggle_handler( event ) {\n\t\tvar $session = $( this ).children( 'a' ),\n\t\t\tsession_name = $session.text(),\n\t\t\tsession_key = $session.attr( 'data-session-id' );\n\n\t\t$session.parents( '.btn-group' ).find( '.selected' ).attr( 'data-session-id', session_key ).html( session_name );\n\t}\n\n\tkey_press_handler( event ) {\n\t\tvar action;\n\t\tswitch ( event.which ) {\n\t\t\tcase 13:\n\t\t\t\taction = _self.auth_pending ? _self.submit_password() : ! _self.user_list_visible ? _self.show_user_list() : 0;\n\t\t\t\t_self.log( action );\n\t\t\t\tbreak;\n\t\t\tcase 27:\n\t\t\t\taction = _self.auth_pending ? _self.cancel_authentication() : 0;\n\t\t\t\t_self.log( action );\n\t\t\t\tbreak;\n\t\t\tcase 32:\n\t\t\t\taction = (! _self.user_list_visible && ! _self.auth_pending) ? _self.show_user_list() : 0;\n\t\t\t\t_self.log( action );\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tsystem_action_handler() {\n\t\tvar action = $( this ).attr( 'id' ),\n\t\t\t$modal = $( '.modal' );\n\n\t\t$modal.find( '.btn-primary' ).text( _self.translations[ action ] ).click( action, ( event ) => {\n\t\t\t$( this ).off( 'click' );\n\t\t\tlightdm[ event.data ]();\n\t\t} );\n\t\t$modal.find( '.btn-default' ).click( () => {\n\t\t\t$( this ).next().off( 'click' );\n\t\t} );\n\n\t\t$modal.modal('toggle');\n\t}\n\n\n\tuser_list_collapse_handler() {\n\t\t_self.user_list_visible = _self.$user_list.hasClass( 'in' ) ? true : false;\n\t}\n\n\n\t/**\n\t * LightDM Callback - Show password prompt to user.\n\t *\n\t * @param text\n\t * @param type\n\t */\n\tshow_prompt( text, type ) {\n\t\tif ( 'password' === type ) {\n\t\t\t$( '#passwordField' ).val( \"\" );\n\t\t\t$( '#passwordArea' ).show();\n\t\t\t$( '#passwordField' ).focus();\n\t\t}\n\t}\n\n\t/**\n\t * LightDM Callback - Show message to user.\n\t *\n\t * @param text\n\t */\n\tshow_message( text, type ) {\n\t\tif ( text.length > 0 ) {\n\t\t\t$( this.$msg_area ).html( text );\n\t\t\t$( '#passwordArea' ).hide();\n\t\t\t$( this.$msg_area_container ).show();\n\t\t}\n\t}\n}\n\n\n/**\n * Initialize the theme once the window has loaded.\n */\n$( window ).load( () => {\n\t_self = new AntergosTheme();\n} );\n\n"]}